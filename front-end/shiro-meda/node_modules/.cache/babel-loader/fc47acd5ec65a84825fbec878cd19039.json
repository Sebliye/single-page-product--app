{"ast":null,"code":"var _jsxFileName = \"B:\\\\education\\\\CS568 React js\\\\project\\\\single-page-product--app\\\\front-end\\\\shiro-meda\\\\src\\\\container\\\\comment\\\\comment.js\";\nimport React from 'react';\nimport NewComment from '../../components/newcomment/newcomment';\nimport Aux from '../../hoc/Auxilary';\nimport Rating from '../../components/rating/Rating';\nimport CommentList from '../../components/commentlist/commentlist';\n\nclass Comment extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [{\n        id: '1',\n        type: 'Kemis',\n        comments: [{\n          userId: 1,\n          text: 'comment from the krmis'\n        }],\n        rates: [{\n          userId: 1,\n          rate: 2\n        }]\n      }, {\n        id: '2',\n        type: 'shurt',\n        comments: [{\n          userId: 1,\n          text: 'comment from the array'\n        }],\n        rates: [{\n          userId: 3,\n          rate: 4\n        }]\n      }]\n    };\n\n    this.setComment = (pid, uid, comment) => {\n      const copyprd = [...this.state.products];\n      const index = copyprd.findIndex(p => p.id === pid);\n      const prd = copyprd.filter(item => item.id === pid)[0];\n      prd.comments.push({\n        userId: uid,\n        text: comment\n      });\n      copyprd[index] = prd;\n      this.setState({\n        products: copyprd\n      });\n      console.log(copyprd);\n    };\n\n    this.setRating = (pid, uid, rate) => {\n      const copyprd = [...this.state.products];\n      const index = copyprd.findIndex(p => p.id === pid);\n      const prd = copyprd.filter(item => item.id === pid)[0];\n      prd.rates.push({\n        userId: uid,\n        rate: rate\n      });\n      copyprd[index] = prd;\n      this.setState({\n        products: copyprd\n      }); //  console.log(copyprd);\n    };\n  }\n\n  render() {\n    const prod = this.state.products.map(val => {\n      return /*#__PURE__*/React.createElement(CommentList, {\n        rates: val.rates[0].rate,\n        type: val.type,\n        comment: val.comments[0].text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 18\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(Aux, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(Rating, {\n      setRating: this.setRating,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(NewComment, {\n      setComment: this.setComment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 6\n      }\n    }), prod);\n  }\n\n}\n\nexport default Comment;","map":{"version":3,"sources":["B:/education/CS568 React js/project/single-page-product--app/front-end/shiro-meda/src/container/comment/comment.js"],"names":["React","NewComment","Aux","Rating","CommentList","Comment","Component","state","products","id","type","comments","userId","text","rates","rate","setComment","pid","uid","comment","copyprd","index","findIndex","p","prd","filter","item","push","setState","console","log","setRating","render","prod","map","val"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport NewComment from '../../components/newcomment/newcomment';\r\nimport Aux from '../../hoc/Auxilary';\r\nimport Rating from '../../components/rating/Rating'\r\nimport CommentList from '../../components/commentlist/commentlist';\r\n\r\nclass Comment extends React.Component{\r\n\r\nstate={\r\n     products:[\r\n     { id: '1', type: 'Kemis', comments:[{userId:1, text: 'comment from the krmis'}], rates:[{userId:1, rate: 2}]},\r\n\t{ id: '2', type: 'shurt', comments:[{userId:1, text: 'comment from the array'}], rates:[{userId:3, rate: 4}]}\r\n     ]\r\n}\r\n\r\n   setComment = (pid,uid,comment)=>{\r\n        const copyprd = [ ...this.state.products ];\r\n        const index = copyprd.findIndex(p=> p.id === pid );\r\n        const prd = copyprd.filter(item=>item.id===pid)[0];\r\n              prd.comments.push({userId:uid, text:comment});\r\n              copyprd[index]=prd;\r\n          this.setState({products:copyprd});\r\n           console.log(copyprd);\r\n   }\r\n\r\n   setRating = (pid,uid,rate)=>{\r\n     const copyprd = [ ...this.state.products ];\r\n     const index = copyprd.findIndex(p=> p.id === pid );\r\n     const prd = copyprd.filter(item=>item.id===pid)[0];\r\n           prd.rates.push({userId:uid, rate:rate});\r\n           copyprd[index]=prd;\r\n           this.setState({products:copyprd});\r\n          //  console.log(copyprd);\r\n   }\r\n\r\nrender(){\r\n     const prod=this.state.products.map((val)=>{\r\n          return <CommentList rates={val.rates[0].rate} type={val.type} comment={val.comments[0].text} ></CommentList>\r\n     })\r\nreturn(\r\n\r\n<Aux>\r\n      <Rating setRating={this.setRating}/>\r\n     <NewComment setComment={this.setComment}/>\r\n     {prod}     \r\n</Aux>\r\n)\r\n}\r\n}\r\nexport default Comment;\r\n"]},"metadata":{},"sourceType":"module"}